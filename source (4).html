<!DOCTYPE html>
<html>
<head>
            <style>body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #f5f5f5;
    display: flex;
    color: #333;
}

#container {
    display: flex;
    width: 100%;
}


/**/
#sidebar {
    width: 220px;
    background-color: #f4f4f4;
    padding: 20px;
    height: 100vh;
    box-shadow: 2px 0px 5px rgba(0, 0, 0, 0.1);
}

#sidebar h1 {
    font-size: 1.5rem;
    margin-bottom: 20px;
}

#sidebar ul {
    list-style: none;
    padding: 0;
}

#sidebar li {
    margin: 15px 0;
    cursor: pointer;
}

#sidebar li.active {
    font-weight: bold;
    color: #007bff;
}

/**/
#main-content {
    flex-grow: 1;
    padding: 20px;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.btn-upgrade {
    background-color: orange;
    color: white;
    padding: 10px;
    border: none;
    cursor: pointer;
    margin-right: 10px;
}

.btn-help {
    background-color: #f5f5f5;
    border: 1px solid #ddd;
    padding: 10px;
    cursor: pointer;
}

.info-bar {
    background-color: #eef5ff;
    border-left: 4px solid #007bff;
    padding: 15px;
    margin-bottom: 20px;
}

/* orders */
.order-list {
    background-color: white;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
}

.order-card {
    border: 1px solid #ddd;
    border-radius: 5px;
    margin-bottom: 15px;
    padding: 15px;
}

.order-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.order-header input {
    margin-right: 10px;
}

.order-date {
    font-size: 0.9rem;
    color: #999;
}

.order-details {
    display: flex;
    gap: 15px;
    margin: 15px 0;
}

.order-details img {
    width: 80px;
    height: 80px;
    border-radius: 5px;
    border: 1px solid #ddd;
}

.product-info p {
    margin: 5px 0;
}

.order-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

.merge-actions {
    text-align: right;
    margin-top: 20px;
}

.btn {
    padding: 10px 20px;
    border: none;
    cursor: pointer;
}

.btn-primary {
    background-color: orange;
    color: white;
}

.btn-secondary {
    background-color: #ddd;
    color: black;
}

/* Modal Styles */
.modal {
    display: none; /* Hidden by default */
    position: fixed;
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0, 0, 0); /* Black w/ opacity */
    background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */
    padding-top: 60px;
}

.modal-content {
    background-color: #fefefe;
    margin: 5% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    max-width: 400px;
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}
</style>
        </head>
        <body>
            


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alibaba Order Management</title>
    <link rel="stylesheet" href="styles.css">


    <div id="container">
        <!-- sidebar -->
        <div id="sidebar">
            <h1>My Alibaba</h1>
            <ul>
                <li>Home</li>
                <li>Message Center</li>
                <li class="active">Orders</li>
                <li>Transactions</li>
                <li>Contacts</li>
                <li>My Lists</li>
                <li>Services</li>
            </ul>
        </div>

     
        <div id="main-content">
            <header>
                <h2>All Orders</h2>
                <button class="btn-upgrade">Upgrade to Gold Supplier</button>
                <button class="btn-help">Help</button>
            </header>

            <!-- orders -->
            <div class="order-list">
                <!-- Product 1 -->
<div class="order-card">
    <div class="order-header">
        <input type="checkbox" class="merge-checkbox" data-order-id="1" data-unit-price="4.00" data-shipping-fee="22.00" data-quantity="15">
        <p>Order No: 23537266501206709</p>
        <p class="order-date">2019-11-25</p>
    </div>
    <div class="order-details">
        <img src="https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcSXzSL8vKfXjHKosGw0mZR0UPbC7QWw6wtbV94s2DsQRQMKaIE7U96Xd84q2odPA8DSIkiV9gBNgdNipHEjjkDFG0Lu4DHIaeSsohsVtBPOj7EaAMi5mZvfIUTSzrPIq5UDhtJ6ytU&amp;usqp=CAc" alt="Product">
        <div class="product-info">
            <p><strong>Wholesale 40oz Tumbler-2</strong></p>
            <p>Product Amount: <b>US $4.00</b></p>
            <p>Shipping Fee: <b>US $22.00</b></p>
            <p>Quantity: <b><span class="quantity">15</span> </b></p>
            <p>Total: <b>US $82.00</b></p>
        </div>
    </div>
    <div class="order-actions">
        <button class="btn btn-primary">Make Payment</button>
        <button class="btn btn-secondary">Cancel Order</button>
    </div>
</div>

<!-- Product 2 -->
<div class="order-card">
    <div class="order-header">
        <input type="checkbox" class="merge-checkbox" data-order-id="2" data-unit-price="5.00" data-shipping-fee="15.00" data-quantity="20">
        <p>Order No: 23537266501206710</p>
        <p class="order-date">2019-11-25</p>
    </div>
    <div class="order-details">
        <img src="https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcRfmf7vb21A3kvXrEUUfUVy4-GqQWm6AUf3Jr1Brle1ZQc9jthk7J-yH76RXgEe-iGd8wan1K8-s3uw8fEOkUCLCiMTLFqeq3KfrDAcxac&amp;usqp=CAc" alt="Product">
        <div class="product-info">
            <p><strong>Wholesale Boba Plush</strong></p>
            <p>Product Amount: <b>US $5.00</b></p>
            <p>Shipping Fee: <b>US $15.00</b></p>
            <p>Quantity: <b><span class="quantity">20</span> </b></p>
            <p>Total: <b>US $115.00</b></p>
        </div>
    </div>
    <div class="order-actions">
        <button class="btn btn-primary">Make Payment</button>
        <button class="btn btn-secondary">Cancel Order</button>
    </div>
</div>

<!-- Product 3 -->
<div class="order-card">
    <div class="order-header">
        <input type="checkbox" class="merge-checkbox" data-order-id="3" data-unit-price="3.00" data-shipping-fee="50.00" data-quantity="50">
        <p>Order No: 23537266501206711</p>
        <p class="order-date">2019-11-25</p>
    </div>
    <div class="order-details">
        <img src="https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcRaJt05bKXELf7h_WuBt2JF9KEepvw9H5NDEvI8Toit3GHXI708CyPCVeYgQ-dCQdqrtnxP9_bU3XcYkgbawNn2EDw7Qwqx6T54x9STDCWN5Hdd3hc0nurzr9kfCQ&amp;usqp=CAc" alt="Product">
        <div class="product-info">
            <p><strong>Wholesale 8oz Candle Jar with Lid</strong></p>
            <p>Product Amount: <b>US $3.00</b></p>
            <p>Shipping Fee: <b>US $50.00</b></p>
            <p>Quantity: <b><span class="quantity">50</span> </b></p>
            <p>Total: <b>US $200.00</b></p>
        </div>
    </div>
    <div class="order-actions">
        <button class="btn btn-primary">Make Payment</button>
        <button class="btn btn-secondary">Cancel Order</button>
    </div>
</div>

<div class="merge-actions">
    <button id="merge-button" class="btn btn-primary">Merge Orders</button>
</div>


<div id="merge-modal" class="modal">
    <div class="modal-content">
        <span id="modal-close" class="close">Ã—</span>
        <p id="modal-message"></p>
    </div>
</div>

            <script>document.getElementById("merge-button").addEventListener("click", function () {
    // getting selected orders
    const selectedOrders = Array.from(document.querySelectorAll(".merge-checkbox:checked"));
    const orderIds = selectedOrders.map((checkbox) => checkbox.getAttribute("data-order-id"));

    console.log("Selected Orders: ", selectedOrders); 
    console.log("Order IDs: ", orderIds); 

    // merge order logic (pretend its based on shippinh or something)
    const qualifyingOrders = ["1", "2"]; 
    const invalidOrders = orderIds.filter((id) => !qualifyingOrders.includes(id));

    // handling merge errors
    if (invalidOrders.length > 0) {
        showModal("Error: One or more selected orders cannot be merged.");
    } else if (orderIds.length < 2) {
        showModal("Please select at least two orders to merge.");
    } else {
        // calc the total price and quantity
        let totalPrice = 0;
        let totalQuantity = 0;

        selectedOrders.forEach((checkbox) => {
            const unitPrice = parseFloat(checkbox.getAttribute("data-unit-price"));
            const shippingFee = parseFloat(checkbox.getAttribute("data-shipping-fee"));
            const quantity = parseInt(checkbox.getAttribute("data-quantity"), 10);

            console.log(`Unit Price: ${unitPrice}, Shipping Fee: ${shippingFee}, Quantity: ${quantity}`); // debugging

            // checking parse
            if (isNaN(unitPrice) || isNaN(shippingFee) || isNaN(quantity)) {
                showModal("Error: Invalid order data.");
                return;
            }

            totalPrice += (unitPrice * quantity) + shippingFee;
            totalQuantity += quantity;
        });

        console.log(`Total Quantity: ${totalQuantity}, Total Price: ${totalPrice}`); // debugging

        // checking total price and qunt
        if (isNaN(totalPrice) || isNaN(totalQuantity)) {
            showModal("Error: There was an issue with calculating the total.");
        } else {
            showModal(`Merge Successful: ${totalQuantity} items merged. Total Price: US $${totalPrice.toFixed(2)}`);
        }
    }
});

//displaying modal
function showModal(message) {
    const modal = document.getElementById("merge-modal");
    const modalMessage = document.getElementById("modal-message");
    modalMessage.textContent = message;
    modal.style.display = "block";
    console.log("Modal displayed with message: ", message); // debug
}

// close button functionality
document.getElementById("modal-close").addEventListener("click", function () {
    const modal = document.getElementById("merge-modal");
    modal.style.display = "none";
    console.log("Modal closed"); //debug
});

// more close modal 
window.onclick = function (event) {
    const modal = document.getElementById("merge-modal");
    if (event.target === modal) {
        modal.style.display = "none";
        console.log("Modal closed by clicking outside"); // debug
    }
};
</script>
        
    
</div></div></div></body>